<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>3 {shinysurveys} | Senior Thesis</title>
<meta name="author" content="Jonathan D. Trattner">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="https://hypothes.is/embed.js" async></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Senior Thesis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Hello, World</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="r.html"><span class="header-section-number">2</span> R</a></li>
<li><a class="active" href="shinysurveys.html"><span class="header-section-number">3</span> {shinysurveys}</a></li>
<li><a class="" href="ghee.html"><span class="header-section-number">4</span> {ghee}</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="shinysurveys" class="section level1">
<h1>
<span class="header-section-number">3</span> {shinysurveys}<a class="anchor" aria-label="anchor" href="#shinysurveys"><i class="fas fa-link"></i></a>
</h1>
<div id="what-is-shiny" class="section level2">
<h2>
<span class="header-section-number">3.1</span> What is {shiny}?<a class="anchor" aria-label="anchor" href="#what-is-shiny"><i class="fas fa-link"></i></a>
</h2>
<div id="technical-aspects" class="section level3">
<h3>
<span class="header-section-number">3.1.1</span> Technical Aspects<a class="anchor" aria-label="anchor" href="#technical-aspects"><i class="fas fa-link"></i></a>
</h3>
<p>Websites are predominantly built using three languages:</p>
<ol style="list-style-type: decimal">
<li>HTML for defining the structure of websites</li>
<li>CSS for customizing the aesthetics of websites</li>
<li>JavaScript for controlling the behavior of websites</li>
</ol>
<p>At a high-level, {shiny} allows programmers to combine the computational strengths of R with the interactivity of web applications. {shiny} provides a curated set of functions that generate the HTML, CSS, and JavaScript necessary to create web applications<span class="citation">(Hadley Wickham <a href="references.html#ref-hadleywickham2020" role="doc-biblioref">2020</a>)</span>.</p>
<p>A simple {shiny} application consists of two elements: <code>ui</code> (user-interface) and <code>server</code>. The former, defines what an individual will see when they visit the application and the latter defines the computations performed. For example, you can define a simple application that accepts a name, adds a greeting, and displays the result using a few lines of code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># load the package</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span>

<span class="co"># define a user-interface with two elements: a text input with an ID, label, and</span>
<span class="co"># initial value; a textOutput that returns the input + greeting</span>
<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput</a></span><span class="op">(</span>inputId <span class="op">=</span> <span class="st">"nameInput"</span>, label <span class="op">=</span> <span class="st">"What is your name?"</span>, value <span class="op">=</span> <span class="st">"World"</span><span class="op">)</span>,
  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">textOutput</a></span><span class="op">(</span><span class="st">"name"</span><span class="op">)</span>
<span class="op">)</span>

<span class="co"># define the server side logic to manipulate the inputs</span>
<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># define the output that concatenates the strings "Hello, " + user input + "."</span>
  <span class="va">output</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText</a></span><span class="op">(</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Hello, "</span>, <span class="va">input</span><span class="op">$</span><span class="va">nameInput</span>, <span class="st">"."</span><span class="op">)</span><span class="op">}</span><span class="op">)</span>
<span class="op">}</span>

<span class="co"># run the application</span>
<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>When run in a browser, this code produces the following application:</p>
<div class="inline-figure">
<img src="graphics/shinysurveys/shinyapp_textInput.gif"><!-- -->
</div>
</div>
<div id="usage" class="section level3">
<h3>
<span class="header-section-number">3.1.2</span> Usage<a class="anchor" aria-label="anchor" href="#usage"><i class="fas fa-link"></i></a>
</h3>
<p>{shiny} is used in many disciplines. DePalma, Turnidge, and Craig (2017) developed an application that allows physicians to utilize complex mathematical methods of determining microbial resistance to antibiotics<span class="citation">(DePalma, Turnidge, and Craig <a href="references.html#ref-depalma2017" role="doc-biblioref">2017</a>)</span>.</p>
<p>Kandlikar and colleagues (2018) developed an application, <em>ranacapa</em>, to explore environmental DNA sequences that is used to engage and educate professionals and students alike. It allowed resource managers at the Channel Islands National Park Service to filter their observed species down to “a particular set of key taxa that they regularly monitor” and allowed students with “no prior bioinformatics experience” to gain an understanding of their eDNA samples, allowing their instructors to focus on “biological questions rather than on troubleshooting bioinformatics problems” <span class="citation">(Kandlikar et al. <a href="references.html#ref-kandlikar2018" role="doc-biblioref">2018</a>)</span>.</p>
<details closed><p><summary><span title="Click to Expand"> Add Industry Example </span> </summary></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="shinysurveys.html#cb2-1"></a></span>
<span id="cb2-2"><a href="shinysurveys.html#cb2-2"></a>Add an example of {shiny} <span class="cf">in</span> industry. Mastering Shiny references Silicon Valley metrics. Maybe ask R4DS members?</span></code></pre></div>
</details><p><br></p>
<p>{shiny} is “used in almost as many niches and industries as R itself is” <span class="citation">(Hadley Wickham <a href="references.html#ref-hadleywickham2020" role="doc-biblioref">2020</a>)</span>. As such, the work presented in this section is usable in many contexts.</p>
</div>
</div>
<div id="motivation" class="section level2">
<h2>
<span class="header-section-number">3.2</span> Motivation<a class="anchor" aria-label="anchor" href="#motivation"><i class="fas fa-link"></i></a>
</h2>
<p>Surveys are extremely useful tools for gathering information from individuals on a large scale and are used in a variety of domains. Within the medical research field, for example, there are often three types of surveys: epidemiological questionnaires, ones on attitudes towards health services or interventions, and polls to assess knowledge about specific topics <span class="citation">(Jones, Baxter, and Khanduja <a href="references.html#ref-jones2013" role="doc-biblioref">2013</a>)</span>. Neuroscientific research often uses them to correlate behaviors (e.g. political ideology or X) with neuroimaging data (see <span class="citation">(Ahn et al. <a href="references.html#ref-ahn2014" role="doc-biblioref">2014</a>)</span> as an example).</p>
<p>The ability to easily collect and analyze survey data is, therefore, extremely important. Many platforms provide user-friendly methods to do this. <a href="https://www.google.com/forms/about/">Google Forms</a>, <a href="https://www.surveymonkey.com/">SurveyMonkey</a>, and <a href="https://www.qualtrics.com/core-xm/survey-software/">Qualtrics</a> are all popular options. For many cases, they work extremely well. One limitation, though, is often the ease with which they integrate with existing data analysis and/or research pipelines. Because of R’s prevalence in academia and research <span class="citation">(RStudio <a href="references.html#ref-rstudio2018a" role="doc-biblioref">2018</a><a href="references.html#ref-rstudio2018a" role="doc-biblioref">b</a>; Carson and Basiliko <a href="references.html#ref-carson2016" role="doc-biblioref">2016</a>)</span>, {shinysurveys} was developed to streamline the data collection and analysis process. To do this, we utilized a package called {shiny}, which makes it easy to build interactive web applications with R <span class="citation">(Chang et al. <a href="references.html#ref-chang2021" role="doc-biblioref">2021</a>)</span>.</p>
</div>
<div id="survey-of-shinysurveys" class="section level2">
<h2>
<span class="header-section-number">3.3</span> A survey of {shinysurveys}<a class="anchor" aria-label="anchor" href="#survey-of-shinysurveys"><i class="fas fa-link"></i></a>
</h2>
<p>Surveys are ubiquitous in data science. A clear example is a simple demographic form. Our package allows you to easily create questionnaires using {shiny}.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;We assume that you are familiar with the basic layout of a Shiny application. If not, please check out the brief discussion earlier in this thesis or RStudio’s &lt;a href="https://shiny.rstudio.com/tutorial/"&gt;great resources&lt;/a&gt;.&lt;/p&gt;'><sup>2</sup></a> This vignette introduces you to the main functionality of our package as it is currently published on CRAN.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;The version discussed was published on CRAN, the Comprehensive R Archive Network, on February 19th, 2021. The development version, hosted on GitHub, contains new features and can be &lt;a href="https://github.com/jdtrat/shinysurveys/"&gt;accessed here&lt;/a&gt;.&lt;/p&gt;'><sup>3</sup></a> We provide two functions to do this: <code><a href="https://rdrr.io/pkg/shinysurveys/man/surveyOutput.html">surveyOutput()</a></code> and <code><a href="https://rdrr.io/pkg/shinysurveys/man/renderSurvey.html">renderSurvey()</a></code>. Both of these take in a data frame containing question information that follows a specific format. To illustrate them in use, we will show you a questionnaire from McGowan et al. (unpublished) that is built into the <code>shinysurveys</code> package:<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;In the following code, I use the prefix &lt;code&gt;shinysurveys::&lt;/code&gt; whenever I’m using a function specific to this package. If you are unfamiliar with this notation, see &lt;a href="https://r-pkgs.org/namespace.html"&gt;[@rpkgs]&lt;/a&gt;&lt;/p&gt;'><sup>4</sup></a></p>
<pre><code>## # A tibble: 54 x 7
##    question    option   input_type input_id dependence dependence_value required
##    &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
##  1 What's you… 25       numeric    age      &lt;NA&gt;       &lt;NA&gt;             TRUE    
##  2 Which best… Female   mc         gender   &lt;NA&gt;       &lt;NA&gt;             TRUE    
##  3 Which best… Male     mc         gender   &lt;NA&gt;       &lt;NA&gt;             TRUE    
##  4 Which best… Prefer … mc         gender   &lt;NA&gt;       &lt;NA&gt;             TRUE    
##  5 Which best… Prefer … mc         gender   &lt;NA&gt;       &lt;NA&gt;             TRUE    
##  6 Which best… &lt;NA&gt;     text       self_de… gender     Prefer to self … FALSE   
##  7 What is th… Did not… select     educati… &lt;NA&gt;       &lt;NA&gt;             FALSE   
##  8 What is th… Some hi… select     educati… &lt;NA&gt;       &lt;NA&gt;             FALSE   
##  9 What is th… High sc… select     educati… &lt;NA&gt;       &lt;NA&gt;             FALSE   
## 10 What is th… Some co… select     educati… &lt;NA&gt;       &lt;NA&gt;             FALSE   
## # … with 44 more rows</code></pre>
<p>As seen, this is a tidy data frame, where each row is a unique observation and each column is a variable. While there are 54 rows, there are only 11 unique questions:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu">shinysurveys</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/shinysurveys/man/teaching_r_questions.html">teaching_r_questions</a></span><span class="op">$</span><span class="va">question</span><span class="op">)</span></code></pre></div>
<pre><code>##  [1] "What's your age?"                                                               
##  [2] "Which best describes your gender?"                                              
##  [3] "What is the highest level of education you have attained?"                      
##  [4] "What was your first language?"                                                  
##  [5] "In what language do you read most often?"                                       
##  [6] "Have you ever learned to program in R?"                                         
##  [7] "If yes, how many years have you been using R?"                                  
##  [8] "Have you ever learned a programming language (other than R)?"                   
##  [9] "If yes, which language(s) and how many years have you been using each language?"
## [10] "Have you ever completed a data analysis?"                                       
## [11] "If yes, approximately how many data analyses have you completed?"</code></pre>
<p>Each question has seven variables that dictate how it functions within the survey. They are described in the data set documentation, accessed by calling <code><a href="https://rdrr.io/pkg/shinysurveys/man/teaching_r_questions.html">?shinysurveys::teaching_r_questions</a></code> in your console, as follows:</p>
<ul>
<li>
<em>question</em>: The question to be asked.</li>
<li>
<em>option</em>: A possible response to the question. In multiple choice questions, for example, this would be the possible answers. For questions without discrete answers, such as a numeric input, this would be the default option shown on the input. For text inputs, it is the placeholder value.</li>
<li>
<em>input_type</em>: What type of response is expected? Currently supported types include <code>numeric</code>, <code>mc</code> for multiple choice, <code>text</code>, <code>select</code>,and <code>y/n</code> for yes/no questions.</li>
<li>
<em>input_id</em>: The input id for Shiny inputs.</li>
<li>
<em>dependence</em>: Does this question (row) depend on another? That is, should it only appear if a different question has a specific value? This column contains the input_id of whatever question this one depends upon.</li>
<li>
<em>dependence_value</em>: This column contains the specific value that the dependence question must take for this question (row) to be shown.</li>
<li>
<em>required</em>: logical TRUE/FALSE signifying if a question is required.</li>
</ul>
<div id="examples" class="section level3">
<h3>
<span class="header-section-number">3.3.1</span> Examples<a class="anchor" aria-label="anchor" href="#examples"><i class="fas fa-link"></i></a>
</h3>
<p>Below are examples of the currently supported question types. We provide a thorough explanation for the numeric input, but only point out notable differences for other inputs.</p>
<div id="numeric-input" class="section level4">
<h4>
<span class="header-section-number">3.3.1.1</span> Numeric Input<a class="anchor" aria-label="anchor" href="#numeric-input"><i class="fas fa-link"></i></a>
</h4>
<p>A good example of a numeric input is the first question: “What’s your age?”:</p>
<pre><code>## # A tibble: 1 x 7
##   question       option input_type input_id dependence dependence_value required
##   &lt;chr&gt;          &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
## 1 What's your a… 25     numeric    age      &lt;NA&gt;       &lt;NA&gt;             TRUE</code></pre>
<p>As we noted in the <a href="#Introduction">introduction</a>, this row shows us that the question is “What’s your age?”. We know we are expecting a numeric input by looking at the <code>input_type</code> column, and the default value is equal to 25 according to the <code>option</code> column.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;It is important to note that the option column for numeric inputs provides the default value, but for other types – as we will see – provides the possible options for a question.&lt;/p&gt;"><sup>5</sup></a></p>
<p>We can also tell that there are no dependency questions. This means that no matter what value you enter, no follow-up question will appear. Lastly, we know this is a required question.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Required question functionality will be discussed in more detail in the section &lt;a href="shinysurveys.html#required_questions"&gt;Required Questions&lt;/a&gt;.&lt;/p&gt;'><sup>6</sup></a></p>
<div class="inline-figure"><img src="graphics/shinysurveys/numeric_example.png" style="display: block; margin: 1em auto" width="300"></div>
</div>
<div id="multiple_choice" class="section level4">
<h4>
<span class="header-section-number">3.3.1.2</span> Multiple Choice (mc) Input<a class="anchor" aria-label="anchor" href="#multiple_choice"><i class="fas fa-link"></i></a>
</h4>
<p>An example of this is the question “Which best describes your gender?”:</p>
<pre><code>## # A tibble: 5 x 7
##   question    option   input_type input_id  dependence dependence_value required
##   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
## 1 Which best… Female   mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 2 Which best… Male     mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 3 Which best… Prefer … mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 4 Which best… Prefer … mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 5 Which best… &lt;NA&gt;     text       self_des… gender     Prefer to self … FALSE</code></pre>
<p>Unlike numeric inputs, the <code>option</code> column represents each of the possible responses for this question. You may notice that the fifth row of this question has <em>NA</em> in the <code>option</code> column and “text” in the <code>input_type</code> column. We will discuss this in more detail <a href="#Question%20Dependencies">below</a>, but for now note that this question has a dependent. That is, if a specific option is chosen for this question, a new one will appear below. In this case, a question that accepts text as its input.</p>
<div class="inline-figure"><img src="graphics/shinysurveys/mc_example.png" style="display: block; margin: 1em auto" width="300"></div>
</div>
<div id="text_input" class="section level4">
<h4>
<span class="header-section-number">3.3.1.3</span> Text Input<a class="anchor" aria-label="anchor" href="#text_input"><i class="fas fa-link"></i></a>
</h4>
<p>Questions that need text-based input should specify “text” in the <code>input_type</code> column. As noted in the previous example, the following is a dependent of the question “Which best describes your gender?”:</p>
<pre><code>## # A tibble: 1 x 7
##   question     option input_type input_id   dependence dependence_value required
##   &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
## 1 Which best … &lt;NA&gt;   text       self_desc… gender     Prefer to self … FALSE</code></pre>
<p>It’s important to note that, as previously mentioned, the <code>option</code> column for text-based inputs corresponds to a placeholder value. It can be left blank (i.e. NA) or contain a character string. If they are left empty, the text field will display “Placeholder” as seen below. Otherwise, the character string will be displayed.</p>
<div class="inline-figure"><img src="graphics/shinysurveys/text_input_placeholder.png" style="display: block; margin: 1em auto" width="300"></div>
<div class="inline-figure"><img src="graphics/shinysurveys/text_input_character_string.png" style="display: block; margin: 1em auto" width="290" height="71"></div>
</div>
<div id="select-input" class="section level4">
<h4>
<span class="header-section-number">3.3.1.4</span> Select Input<a class="anchor" aria-label="anchor" href="#select-input"><i class="fas fa-link"></i></a>
</h4>
<p>Select inputs are great when there are many potential, discretely defined, response choices.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;As of October 2020, these do not support multiple options selected at once, though we anticipate adding this functionality in the future.&lt;/p&gt;"><sup>7</sup></a> An example is the question “What was your first language?” which contains 15 options (rows):<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Note the presence of the NA in the output above. This deals with question dependencies, which is explained in detail in the section &lt;a href="#Question%20Dependencies"&gt;Dependency Questions&lt;/a&gt;.&lt;/p&gt;'><sup>8</sup></a></p>
<pre><code>##  [1] "Arabic"   "Armenian" "Chinese"  "English"  "French"   "Creole"  
##  [7] "German"   "Greek"    "Gujarati" "Hebrew"   "Hindi"    "Italian" 
## [13] "Japanese" "Other"    NA</code></pre>
<div class="inline-figure"><img src="graphics/shinysurveys/select_input_example.png" style="display: block; margin: 1em auto" width="300"></div>
</div>
<div id="yes-or-no-yn-input" class="section level4">
<h4>
<span class="header-section-number">3.3.1.5</span> Yes or No (y/n) Input<a class="anchor" aria-label="anchor" href="#yes-or-no-yn-input"><i class="fas fa-link"></i></a>
</h4>
<p>Yes or no questions are self-explanatory. An example is the question “Have you ever learned to program in R?”:</p>
<pre><code>## # A tibble: 2 x 7
##   question       option input_type input_id dependence dependence_value required
##   &lt;chr&gt;          &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
## 1 Have you ever… Yes    y/n        learned… &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 2 Have you ever… No     y/n        learned… &lt;NA&gt;       &lt;NA&gt;             TRUE</code></pre>
<div class="inline-figure"><img src="graphics/shinysurveys/yes_no_example.png" style="display: block; margin: 1em auto" width="300"></div>
</div>
</div>
<div id="implementing-surveys-in-shiny" class="section level3">
<h3>
<span class="header-section-number">3.3.2</span> Implementing Surveys in Shiny<a class="anchor" aria-label="anchor" href="#implementing-surveys-in-shiny"><i class="fas fa-link"></i></a>
</h3>
<div id="ui-function" class="section level4">
<h4>
<span class="header-section-number">3.3.2.1</span> UI Function<a class="anchor" aria-label="anchor" href="#ui-function"><i class="fas fa-link"></i></a>
</h4>
<p><code><a href="https://rdrr.io/pkg/shinysurveys/man/surveyOutput.html">surveyOutput()</a></code> takes in a data frame of the form described above. You may also add a title and description for your survey with the arguments <code>survey_title</code> and <code>survey_description</code>, though these are optional. Further documentation can be accessed by typing <code>?shinysurveys::surveyOutput()</code> in the console.</p>
</div>
<div id="server-function" class="section level4">
<h4>
<span class="header-section-number">3.3.2.2</span> Server Function<a class="anchor" aria-label="anchor" href="#server-function"><i class="fas fa-link"></i></a>
</h4>
<p><code><a href="https://rdrr.io/pkg/shinysurveys/man/renderSurvey.html">renderSurvey()</a></code> takes in a data frame of the form described above. It also takes in a <code>theme</code> color to style your survey. Typical names such as “red” or “blue” work, as well as hex color codes such as “#63B8FF” (the default theme). The documentation for it can be accessed by typing <code>?shinysurveys::renderSurvey()</code> in the console.</p>
</div>
<div id="basic-survey" class="section level4">
<h4>
<span class="header-section-number">3.3.2.3</span> Basic Survey<a class="anchor" aria-label="anchor" href="#basic-survey"><i class="fas fa-link"></i></a>
</h4>
<p>A minimal example of a survey can be created with this template:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">shinysurveys</span><span class="op">)</span>
<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
  <span class="fu">shinysurveys</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shinysurveys/man/surveyOutput.html">surveyOutput</a></span><span class="op">(</span>df <span class="op">=</span> <span class="fu">shinysurveys</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/shinysurveys/man/teaching_r_questions.html">teaching_r_questions</a></span>,
                             survey_title <span class="op">=</span> <span class="st">"A minimal title"</span>,
                             survey_description <span class="op">=</span> <span class="st">"A minimal description"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">shinysurveys</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shinysurveys/man/renderSurvey.html">renderSurvey</a></span><span class="op">(</span>df <span class="op">=</span> <span class="fu">shinysurveys</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/shinysurveys/man/teaching_r_questions.html">teaching_r_questions</a></span><span class="op">)</span>
<span class="op">}</span>

<span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>Please note that the UI comes with a “Submit” button included. Survey designers can customize actions by using the call <code>input$submit</code>. Some examples would be saving or displaying user responses, or displaying a message as seen on the <a href="https://www.jdtrat.com/packages/shinysurveys/index.html#demos">gif here</a>.</p>
</div>
</div>
<div id="advanced-features" class="section level3">
<h3>
<span class="header-section-number">3.3.3</span> Advanced Features<a class="anchor" aria-label="anchor" href="#advanced-features"><i class="fas fa-link"></i></a>
</h3>
<div id="dependency-questions" class="section level4">
<h4>
<span class="header-section-number">3.3.3.1</span> Dependency Questions<a class="anchor" aria-label="anchor" href="#dependency-questions"><i class="fas fa-link"></i></a>
</h4>
<p>We use the term question dependencies in reference to the situations where a question should only be shown (i.e. asked) if a specific response is given to a preceding question. The questions included with the <code>shinysurveys</code> package contain many dependencies. One example we’ve seen discussing <a href="shinysurveys.html#multiple_choice">multiple choice</a> and <a href="shinysurveys.html#text_input">text-based</a> questions is the dependent for “Which best describes your gender?”</p>
<pre><code>## # A tibble: 5 x 7
##   question    option   input_type input_id  dependence dependence_value required
##   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;            &lt;lgl&gt;   
## 1 Which best… Female   mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 2 Which best… Male     mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 3 Which best… Prefer … mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 4 Which best… Prefer … mc         gender    &lt;NA&gt;       &lt;NA&gt;             TRUE    
## 5 Which best… &lt;NA&gt;     text       self_des… gender     Prefer to self … FALSE</code></pre>
<p>Focusing on the columns <code>dependence</code> and <code>dependence_value</code>, we see that the text-based question will only show if the multiple choice one, with the input id of “gender” takes on the value “Prefer to self describe.” That is, a question with non <em>NA</em> values in the <code>dependence</code> and <code>dependence_value</code> columns mean that it will only show if the question with the input id from <code>dependence</code> takes on the value from <code>dependence_value</code>. This can be seen below:</p>
<div class="inline-figure"><img src="graphics/shinysurveys/dependency_example_1.png" style="display: block; margin: 1em auto" width="300"></div>
<div class="inline-figure"><img src="graphics/shinysurveys/dependency_example_2.png" style="display: block; margin: 1em auto" width="300"></div>
</div>
<div id="required_questions" class="section level4">
<h4>
<span class="header-section-number">3.3.3.2</span> Required Questions<a class="anchor" aria-label="anchor" href="#required_questions"><i class="fas fa-link"></i></a>
</h4>
<p>Survey designers can define questions that must be answered by adding the value TRUE to the <code>required</code> column. If a required question is not answered, the user will not be able to submit their responses.</p>
<div class="inline-figure"><img src="graphics/shinysurveys/required_submit_disabled.png" style="display: block; margin: 1em auto" width="300"></div>
<div class="inline-figure"><img src="graphics/shinysurveys/required_submit_enabled.png" style="display: block; margin: 1em auto" width="300"></div>
</div>
<div id="user-tracking" class="section level4">
<h4>
<span class="header-section-number">3.3.3.3</span> User Tracking<a class="anchor" aria-label="anchor" href="#user-tracking"><i class="fas fa-link"></i></a>
</h4>
<p>Built into the survey is the ability to track users based on URL parameters. If you deploy your survey on <a href="shinyapps.io">shinyapps.io</a>, or run it locally in a browser, you can add a URL parameter after the backslash as follows: <code>?user_id=12345</code>. A live demo can be found here: <a href="https://jdtrat-apps.shinyapps.io/shinysurveys_user_tracking/?user_id=hadley" class="uri">https://jdtrat-apps.shinyapps.io/shinysurveys_user_tracking/?user_id=hadley</a></p>

</div>
</div>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="r.html"><span class="header-section-number">2</span> R</a></div>
<div class="next"><a href="ghee.html"><span class="header-section-number">4</span> {ghee}</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#shinysurveys"><span class="header-section-number">3</span> {shinysurveys}</a></li>
<li>
<a class="nav-link" href="#what-is-shiny"><span class="header-section-number">3.1</span> What is {shiny}?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#technical-aspects"><span class="header-section-number">3.1.1</span> Technical Aspects</a></li>
<li><a class="nav-link" href="#usage"><span class="header-section-number">3.1.2</span> Usage</a></li>
</ul>
</li>
<li><a class="nav-link" href="#motivation"><span class="header-section-number">3.2</span> Motivation</a></li>
<li>
<a class="nav-link" href="#survey-of-shinysurveys"><span class="header-section-number">3.3</span> A survey of {shinysurveys}</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#examples"><span class="header-section-number">3.3.1</span> Examples</a></li>
<li><a class="nav-link" href="#implementing-surveys-in-shiny"><span class="header-section-number">3.3.2</span> Implementing Surveys in Shiny</a></li>
<li><a class="nav-link" href="#advanced-features"><span class="header-section-number">3.3.3</span> Advanced Features</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Senior Thesis</strong>" was written by Jonathan D. Trattner. It was last built on 2021-04-15.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
